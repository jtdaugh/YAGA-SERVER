{% extends 'yaga/post/list.html' %}

{% load i18n %}

{% load crispy_forms_tags %}

{% block title %}
    {{ block.super }}
    |
    {{ post.pk }}
{% endblock %}

{% block breadcrumbs_list %}
    {{ block.super }}
    <li>
        <a href="{% url 'yaga:post:list' %}">
            {% trans 'List' %}
        </a>
    </li>
{% endblock %}

{% block breadcrumbs_active %}
    {{ post.pk }}
{% endblock %}

{% block content %}
    {% if post.attachment %}
        {% if perms.yaga.view_post %}
            <div class="row">
                <div class="col-md-offset-2 col-md-8 well">
                    <h3>
                        {% trans 'Attachment' %}
                    </h3>
                    <hr>
                    <video data-setup='{"controls": true, "autoplay": false, "preload": "none", "loop": "true", "width": 640, "height": 480}' id="attachment" class="video-js vjs-default-skin vjs-big-play-centered">
                        <source src="{{ post.attachment.url }}" type='video/mp4' />
                    </video>
                    <hr>
                    <div class="table-responsive">
                        <table class="table table-striped table-bordered">
                            <tr>
                                <th>
                                    {% trans 'Option' %}
                                </th>
                                <th>
                                    {% trans 'Value' %}
                                </th>
                            </tr>
                            <tr>
                                <td>
                                    {% trans 'User' %}
                                </td>
                                <td>
                                    {% if perms.accounts.change_user %}
                                        <a href="{% url 'yaga:user:update' user_id=user.pk %}">
                                            {{ post.user.pk }}
                                        </a>
                                    {% else %}
                                        {{ post.user.pk }}
                                    {% endif %}
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    {% trans 'Checksum' %}
                                </td>
                                <td>
                                    {{ post.checksum }}
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    {% trans 'Ready' %}
                                </td>
                                <td>
                                    {% if post.ready %}
                                        <span class="label label-success">
                                            {% trans 'Yes' %}
                                        </span>
                                    {% else %}
                                        <span class="label label-warning">
                                            {% trans 'No' %}
                                        </span>
                                    {% endif %}
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    {% trans 'Deleted' %}
                                </td>
                                <td>
                                    {% if post.deleted %}
                                        <span class="label label-danger">
                                            {% trans 'Yes' %}
                                        </span>
                                    {% else %}
                                        <span class="label label-success">
                                            {% trans 'No' %}
                                        </span>
                                    {% endif %}
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    {% trans 'Name' %}
                                </td>
                                <td>
                                    {% if post.name %}
                                        {{ post.name }}
                                    {% else %}
                                        <span class="label label-warning">
                                            {% trans 'Empty' %}
                                        </span>
                                    {% endif %}
                                </td>
                            </tr>
                            {% if post.name %}
                                <tr>
                                    <td>
                                        {% trans 'Namer' %}
                                    </td>
                                    <td>
                                        {% if perms.accounts.change_user %}
                                            <a href="{% url 'yaga:user:update' user_id=user.pk %}">
                                                {{ post.namer.pk }}
                                            </a>
                                        {% else %}
                                            {{ post.namer.pk }}
                                        {% endif %}
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        {% trans 'Rotation' %}
                                    </td>
                                    <td>
                                        {{ post.rotation }}
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        {% trans 'Scale' %}
                                    </td>
                                    <td>
                                        {{ post.scale }}
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        {% trans 'X' %}
                                    </td>
                                    <td>
                                        {{ post.name_x }}
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        {% trans 'Y' %}
                                    </td>
                                    <td>
                                        {{ post.name_y }}
                                    </td>
                                </tr>
                            {% endif %}
                            <tr>
                                <td>
                                    {% trans 'Created At' %}
                                </td>
                                <td>
                                    {{ post.created_at }}
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    {% trans 'Ready At' %}
                                </td>
                                <td>
                                    {{ post.ready_at }}
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    {% trans 'Updated At' %}
                                </td>
                                <td>
                                    {{ post.updated_at }}
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        {% endif %}
    {% endif %}
    <div class="row">
        <div class="col-md-offset-1 col-md-10 well">
            {% crispy form %}
        </div>
    </div>
{% endblock %}

